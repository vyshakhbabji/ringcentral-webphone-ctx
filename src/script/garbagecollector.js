Object.defineProperty(exports,"__esModule",{value:!0});
var Node=function(){function b(a){this.parent_=this.object_=null;this.children_=[];this.object_=a}b.prototype.addChild=function(a){a.parent_!=this&&(a.parent_=this,this.children_.push(a))};b.prototype.removeChild=function(a){var d=this.children_.indexOf(a);this.children_.splice(d,1);a.parent_=null};return b}(),GC=function(){function b(){this.root_=new Node(null)}b.prototype.trackObject=function(a,d){void 0===d&&(d=null);if(null===this.findNode(a,this.root_)){var c=this.findNode(d,this.root_),b=new Node(a);
c.addChild(b)}};b.prototype.releaseObject=function(a){a=this.findNode(a,this.root_);if(null===a||a===this.root_)return!1;this.destroyNodeObjectRecurse(a);a.parent_.removeChild(a);return!0};b.prototype.destroyNodeObjectRecurse=function(a){for(var d=0,c=a.children_;d<c.length;d++)this.destroyNodeObjectRecurse(c[d]);a.object_.destroy()};b.prototype.setParent=function(a,d){var c=this.findNode(a,this.root_);if(null===c)return!1;var b=this.findNode(d,this.root_);if(null===b)return!1;if(c.parent_===b)return!0;
c.parent_.removeChild(c);b.addChild(c);return!0};b.prototype.reset=function(){this.root_.children_=[]};b.prototype.findNode=function(a,b){if(b.object_===a)return b;for(var c=null,e=0,f=b.children_;e<f.length&&(c=this.findNode(a,f[e]),null===c);e++);return c};return b}();exports.GC=GC;exports.gc=new GC;
